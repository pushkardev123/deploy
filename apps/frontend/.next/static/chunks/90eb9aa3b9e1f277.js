(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85362,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},17604,(e,t,s)=>{t.exports=e.r(48544)},12838,e=>{"use strict";var t=e.i(41697),s=e.i(29845),a=e.i(59199),r=e.i(17604),l=e.i(70997),n=e.i(38758),i=e.i(58866);let o=l.z.object({email:l.z.string().email("Enter a valid email address"),password:l.z.string().min(6,"Password must be at least 6 characters long")});function c(){let e=(0,r.useRouter)(),[l,c]=(0,a.useState)({email:"",password:""}),[d,m]=(0,a.useState)({}),[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)("");function b(e){c(t=>({...t,[e.target.name]:e.target.value})),d[e.target.name]&&m(t=>({...t,[e.target.name]:void 0}))}async function g(s){s.preventDefault(),m({}),p("");let a=o.safeParse(l);if(!a.success){let e={};a.error.errors.forEach(t=>{e[t.path[0]]=t.message}),m(e);return}try{x(!0);let s=(t.default.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8080").replace(/\/$/,""),a=await fetch(`${s}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),r=await a.json();if(!r.ok)return void p(r.error||"Login failed");(0,i.setToken)(r.token);let n=(0,i.decodeToken)(),o=n?.userId||n?.id||n?.sub||null;o&&localStorage.setItem("userId",String(o)),e.push("/trade")}catch(e){p("Something went wrong. Please try again.")}finally{x(!1)}}return(0,s.jsx)("main",{className:"min-h-screen w-full flex items-center justify-center bg-[#09090b] text-neutral-200 p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-[400px] space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center text-center space-y-2",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,s.jsx)(n.default,{src:"/logo.svg",alt:"Logo",className:"invert opacity-90",width:150,height:100})}),(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Welcome back"}),(0,s.jsx)("p",{className:"text-sm text-neutral-400",children:"Enter your details to access your portfolio."})]}),(0,s.jsxs)("div",{className:"bg-[#111] border border-white/10 rounded-2xl p-6 md:p-8 shadow-2xl shadow-black/50",children:[(0,s.jsxs)("form",{onSubmit:g,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1.5 ml-1",children:"Email"}),(0,s.jsx)("div",{className:`flex items-center px-3 py-2.5 rounded-lg border transition-all ${d.email?"bg-rose-950/10 border-rose-500/50":"bg-[#09090b] border-white/10 focus-within:border-white/30"}`,children:(0,s.jsx)("input",{name:"email",type:"email",value:l.email,onChange:b,className:"bg-transparent text-sm w-full outline-none text-neutral-200 placeholder:text-neutral-600",placeholder:"name@example.com",autoComplete:"email"})}),d.email&&(0,s.jsx)("p",{className:"text-xs text-rose-400 mt-1.5 ml-1",children:d.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1.5 ml-1",children:"Password"}),(0,s.jsx)("div",{className:`flex items-center px-3 py-2.5 rounded-lg border transition-all ${d.password?"bg-rose-950/10 border-rose-500/50":"bg-[#09090b] border-white/10 focus-within:border-white/30"}`,children:(0,s.jsx)("input",{name:"password",type:"password",value:l.password,onChange:b,className:"bg-transparent text-sm w-full outline-none text-neutral-200 placeholder:text-neutral-600",placeholder:"••••••••",autoComplete:"current-password"})}),d.password&&(0,s.jsx)("p",{className:"text-xs text-rose-400 mt-1.5 ml-1",children:d.password})]}),(0,s.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3 text-sm font-bold bg-white text-black rounded-lg hover:bg-neutral-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-[0.98] mt-2",children:u?"Signing in...":"Sign In"})]}),h&&(0,s.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-rose-500/10 border border-rose-500/20 text-rose-400 text-sm text-center",children:h})]}),(0,s.jsxs)("p",{className:"text-center text-sm text-neutral-500",children:["Don’t have an account?"," ",(0,s.jsx)("button",{onClick:()=>e.push("/register"),className:"text-white hover:underline underline-offset-4 decoration-neutral-700 transition-all",children:"Sign up"})]})]})})}e.s(["default",()=>c])}]);